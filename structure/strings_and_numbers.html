<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Strings &amp; Numbers - Par Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Documentation for the Par programming language">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Par Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/faiface/par-lang/tree/main/docs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/faiface/par-lang/edit/main/docs/src/structure/strings_and_numbers.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="strings--numbers"><a class="header" href="#strings--numbers">Strings &amp; Numbers</a></h1>
<p>Before taking a stroll in the diverse garden of Par’s types, let’s stop by the most basic ones:
the <em>primitives.</em></p>
<p>At the moment, Par has four primitive types:</p>
<ul>
<li><strong><code>Int</code></strong> — Integers, positive and negative whole numbers, arbitrary size.</li>
<li><strong><code>Nat</code></strong> — Natural numbers, starting from zero, arbitrary size. They are a subtype of <code>Int</code>.</li>
<li><strong><code>String</code></strong> — UTF-8 encoded sequencee of Unicode characters.</li>
<li><strong><code>Char</code></strong> — Singular Unicode characters.</li>
</ul>
<blockquote>
<p>There’s a <strong>significant distinction</strong> between <em>primitives</em> and all other types in Par.</p>
<p>The thing is, Par has a fully structural type system. All custom type definitions are just
aliases — there is no way to create opaque types. <em>(But, encapsulation is perfectly possible.)</em></p>
<p>Primitives are different in that they are opaque. They are magical types, distinct from others,
that are operated on using magical built-in functions. This is necessary to achieve their
efficient representation.</p>
</blockquote>
<p>Primitives are manipulated using magical built-in functions.</p>
<p><strong>To find the list of all built-in functions:</strong></p>
<ol>
<li>Open the playground.
<pre><code>$ par-lang playground
</code></pre>
</li>
<li>Press <strong>Compile,</strong> and <strong>Run.</strong> Scroll the list that pops up.
<img src="../images/strings_and_numbers_1.png" alt="List of built-in functions" /></li>
</ol>
<p><strong>To figure out the type of a built-in function:</strong></p>
<ol>
<li>Assigning it to your own <code>def</code>, such as:
<pre><code class="language-par">def Examine = Int.ToString
</code></pre>
Par knows the type of <code>Int.String</code>, so it will infer it for <code>Examine</code> as well.</li>
<li>Press <strong>Compile.</strong></li>
<li>Move the cursor the the definition. The playground will display the type on the right,
in green.
<img src="../images/strings_and_numbers_2.png" alt="Displayed type of a built-in function" /></li>
</ol>
<p>The type <code>[Int] String</code> is a <a href="../types/function.html">function</a> from <code>Int</code> to <code>String</code>. We will cover
functions and other types in detail <a href="../types.html">later</a>. Despite that, we’ll still play with
some built-in functions in this section. All you need to know is that
<strong>the square brackets enclose function arguments,</strong> and the result type follows. For example:</p>
<ul>
<li><code>[Int, Int] Int</code> is a function from two <code>Int</code>s to an <code>Int</code>.</li>
<li><code>[Int, Nat, Nat] Nat</code> is a function from one <code>Int</code> and two <code>Nat</code>s to a <code>Nat</code>.</li>
</ul>
<blockquote>
<p><strong>The current set of built-in functions is very minimal.</strong> They’re just enough to be able to
write more useful functions yourself, but they’re nowhere close to a standard library. For example,
there are no functions for analyzing strings, aside from <code>String.Reader</code>, which is flexible enough
to implement all you’d need. You just need to do it yourself.</p>
<p>Keep in mind that Par is early in development. It’s bringing an innovative paradigm, which we’re
still figuring out how to use best. Creating an expansive standard library would be premature
before we understand what’s actually going on here.</p>
</blockquote>
<p>Now, let’s take a look at the primitives!</p>
<h2 id="int"><a class="header" href="#int"><code>Int</code></a></h2>
<p>Integers are arbitrarily sized whole numbers, positive or negative.</p>
<p>Their literals consist of digits, optionally prefixed with <code>-</code> or <code>+</code>, and may include underscores
for readability.</p>
<pre><code class="language-par">def Num1: Int = 7
def Num2: Int = -123_456_789
</code></pre>
<p>The type annotations are not needed:</p>
<pre><code class="language-par">def Num3 = 42
def Num4 = -2202
</code></pre>
<p>Without annotations, <code>Num3</code> actually gets inferred as <code>Nat</code>. But, since <code>Nat</code> is a
subtype of <code>Int</code>, it can be treated as an <code>Int</code> too.</p>
<p>Built-in functions are used for arithmetic operations. For example:</p>
<pre><code class="language-par">def Num5 = Int.Add(3, 4)  // = 7
def Num6 = Int.Mul(3, 4)  // = 12
</code></pre>
<p>Go ahead and explore more of them in the playground!</p>
<h2 id="nat"><a class="header" href="#nat"><code>Nat</code></a></h2>
<p>Natural numbers are just integers excluding the negative ones. <code>Nat</code> is a subtype of <code>Int</code>, so
every variable of type <code>Nat</code> can be used as an <code>Int</code>, too.</p>
<pre><code class="language-par">def Num7 = 14  // inferred as `Nat`
def Num8 = 17  // inferred as `Nat`

// perfectly valid
def Num9 = Int.Add(Num7, Num8)
</code></pre>
<p>While <code>Num7</code> and <code>Num8</code> are inferred as <code>Nat</code>s, <code>Num9</code> will be an <code>Int</code> because that’s what
<code>Int.Add</code> returns. To get a <code>Nat</code> result, use <code>Nat.Add</code>, which only accepts <code>Nat</code>s:</p>
<pre><code class="language-par">def Num10 = Nat.Add(Num7, Num8)  // inferred as `Nat`
</code></pre>
<p><strong>Several built-in functions aid in converting <code>Int</code>s to <code>Nat</code>s.</strong> For example:</p>
<ul>
<li><strong><code>Nat.Max</code></strong> has type <code>[Nat, Int] Nat</code> — the second argument is allowed to be an <code>Int</code>.
Yet it’s guaranteed to return a <code>Nat</code>.</li>
<li><strong><code>Int.Abs</code></strong> has type <code>[Int] Nat</code> — an absolute value is always a <code>Nat</code>.</li>
</ul>
<pre><code class="language-par">def Num11: Nat = Nat.Max(0, -1000)  // = 0
def Num12: Nat = Int.Abs(-1000)     // = 1000
</code></pre>
<p>Unlike <code>Int</code>s, natural numbers can be looped on using <code>Nat.Repeat</code>, which is one of their main
uses. We’ll learn more about that in the section on <a href="../types/recursive.html">recursive</a> types.</p>
<h2 id="string"><a class="header" href="#string"><code>String</code></a></h2>
<p>Strings are represented as UTF-8 encoded sequences of Unicode characters. Their literals are
enclosed in double quotes (<code>"</code>), and may contain escape sequences, such as <code>\n</code>, familiar from
other languages.</p>
<pre><code class="language-par">def Str1 = "Hello"  // inferred as `String`
def Str2 = "World"
</code></pre>
<p>To concatenate strings, use <code>String.Builder</code>. To fully understand how it works, we’ll need to
cover <a href="../types/iterative.html">iterative</a> and <a href="../types/choice.html">choice</a> types, but perhaps
you can get the idea:</p>
<pre><code class="language-par">def Str3 = String.Builder
  .add(Str1)
  .add(", ")
  .add(Str2)
  .build  // = "Hello, World"
</code></pre>
<p>Analyzing strings — such as finding, splitting, or parsing — is done using <code>String.Reader</code>.
To be able to use it, more knowledge of the language is needed first. But, feel
free to play with it in the playground, or check out the <code>StringManipulation.par</code> example in
the <code>examples/</code> folder.</p>
<p>Numbers can be converted to strings using <code>Int.ToString</code>:</p>
<pre><code class="language-par">def Str4 = Int.ToString(14)  // = "14"
def Str5 = Int.ToString(-7)  // = "-7"
</code></pre>
<p>Note, that <code>Nat</code> is a subtype of <code>Int</code>, so any natural number can also be converted to a string
this way, too. In fact, that’s exactly what happens with <code>Str4</code>.</p>
<h2 id="char"><a class="header" href="#char"><code>Char</code></a></h2>
<p>A <code>Char</code> is a single Unicode character. <code>Char</code> literals are enclosed in single quotes:</p>
<pre><code class="language-par">def Char1 = 'a'  // inferred as `Char`
def Char2 = '\n'
</code></pre>
<p>There’s a built-in function to check if a <code>Char</code> is a part of a character class:</p>
<pre><code class="language-par">def IsWhitespace = Char.Is(' ', .whitespace!)  // = .true!
</code></pre>
<p>There’s no built-in function turning a <code>String</code> to a list of <code>Char</code>s. Feel free to
copy-paste this one, if you ever need it:</p>
<pre><code class="language-par">dec Chars : [String] List&lt;Char&gt;
def Chars = [s] String.Reader(s).begin.char.case {
  .end! =&gt; .end!,
  .char(c) rest =&gt; .item(c) rest.loop,
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../structure/definitions_and_declarations.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../structure/let_expressions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../structure/definitions_and_declarations.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../structure/let_expressions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
